{"version":3,"sources":["services/contactsApi.js","redux/contacts/contactsOperations.jsx","redux/auth/auth-slice.js","redux/contacts/contactsSlice.jsx","components/Container/Container.module.css","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Container/Container.jsx","components/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.jsx","index.js"],"names":["fetchContacts","a","axios","get","data","addContact","contact","post","dltContact","id","delete","defaults","baseURL","createAsyncThunk","_","rejectWithValue","contactsApi","contacts","message","addContacts","items","deleteContacts","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","isFetchingCurrectUser","extraReducers","operations","register","fulfilled","state","action","payload","pending","error","rejected","logIn","logOut","fetchCurrentUser","contactsSlice","isLoading","filter","reducers","changeFilter","push","console","log","actions","module","exports","headers","common","Authorization","credentials","toast","response","thunkAPI","getState","persistedToken","auth","authSelectors","getIsLoggedIn","getUsername","getIsFetchingCurrent","isFetchingCurrentUser","Container","children","className","s","container","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","alignItems","avatar","marginRight","mapDispatchToProps","onLogout","authOperations","connect","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","AppBar","PrivateRoute","routeProps","PublicRoute","restricted","redirectTo","shouldRedirect","HomeView","lazy","RegisterView","LoginView","PhonebookView","App","dispatch","useDispatch","useEffect","fallback","path","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","thunk","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phoneBook","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","querySelector"],"mappings":"mVAIO,SAAeA,IAAtB,+B,4CAAO,8BAAAC,EAAA,sEACkBC,IAAMC,IAAI,aAD5B,uBACGC,EADH,EACGA,KADH,kBAEEA,GAFF,4C,sBAKA,SAAeC,EAAtB,kC,4CAAO,WAA0BC,GAA1B,iBAAAL,EAAA,sEACkBC,IAAMK,KAAK,YAAaD,GAD1C,uBACGF,EADH,EACGA,KADH,kBAGEA,GAHF,4C,sBAMA,SAAeI,EAAtB,kC,4CAAO,WAA0BC,GAA1B,SAAAR,EAAA,sEACCC,IAAMQ,OAAN,oBAA0BD,IAD3B,gCAEEA,GAFF,4C,sBAbPP,IAAMS,SAASC,QAAU,wCCElB,IAAMZ,EAAgBa,YAC3B,yBAD2C,uCAE3C,WAAOC,EAAP,oBAAAb,EAAA,6DAAYc,EAAZ,EAAYA,gBAAZ,kBAE2BC,IAF3B,cAEUC,EAFV,yBAGWA,GAHX,yDAKWF,EAAgB,KAAMG,UALjC,yDAF2C,yDAYhCC,EAAcN,YACzB,sBADyC,uCAEzC,WAAOP,EAAP,oBAAAL,EAAA,6DAAkBc,EAAlB,EAAkBA,gBAAlB,kBAEwBC,EAAuBV,GAF/C,cAEUc,EAFV,yBAGWA,GAHX,yDAKWL,EAAgB,KAAMG,UALjC,yDAFyC,yDAY9BG,EAAiBR,YAC5B,yBAD4C,uCAE5C,WAAOJ,EAAP,kBAAAR,EAAA,6DAAac,EAAb,EAAaA,gBAAb,kBAEUC,EAAuBP,GAFjC,gCAIWA,GAJX,yDAMWM,EAAgB,KAAMG,UANjC,yDAF4C,0D,2DCnBxCI,EAAYC,YAAY,CAC5BC,KAAM,OACNC,aARmB,CACnBC,KAAM,CAAEF,KAAM,KAAMG,MAAO,MAC3BC,MAAO,KACPC,YAAY,EACZC,uBAAuB,GAKvBC,eAAa,mBACVC,UAAWC,SAASC,WADV,SACqBC,EAAOC,GACrCD,EAAMT,KAAOU,EAAOC,QAAQX,KAC5BS,EAAMP,MAAQQ,EAAOC,QAAQT,MAC7BO,EAAMN,YAAa,KAJV,cAMVG,UAAWC,SAASK,SANV,SAMmBH,GAC5BA,EAAMI,MAAQ,QAPL,cASVP,UAAWC,SAASO,UATV,SASoBL,EAAOC,GACpCD,EAAMI,MAAQH,EAAOC,QAAQnB,WAVpB,cAYVc,UAAWS,MAAMP,WAZP,SAYkBC,EAAOC,GAClCD,EAAMT,KAAOU,EAAOC,QAAQX,KAC5BS,EAAMP,MAAQQ,EAAOC,QAAQT,MAC7BO,EAAMN,YAAa,EACnBM,EAAMI,MAAQ,QAhBL,cAkBVP,UAAWS,MAAMH,SAlBP,SAkBgBH,GACzBA,EAAMI,MAAQ,QAnBL,cAqBVP,UAAWS,MAAMD,UArBP,SAqBiBL,EAAOC,GACjCD,EAAMI,MAAQH,EAAOC,QAAQnB,WAtBpB,cAwBVc,UAAWU,OAAOR,WAxBR,SAwBmBC,EAAOC,GACnCD,EAAMT,KAAO,CAAEF,KAAM,KAAMG,MAAO,MAClCQ,EAAMP,MAAQ,KACdO,EAAMN,YAAa,EACnBM,EAAMI,MAAQ,QA5BL,cA8BVP,UAAWU,OAAOJ,SA9BR,SA8BiBH,EAAOC,GACjCD,EAAMI,MAAQ,QA/BL,cAiCVP,UAAWU,OAAOF,UAjCR,SAiCkBL,EAAOC,GAClCD,EAAMI,MAAQH,EAAOC,QAAQnB,WAlCpB,cAoCVc,UAAWW,iBAAiBL,SApClB,SAoC2BH,GACpCA,EAAML,uBAAwB,KArCrB,cAuCVE,UAAWW,iBAAiBT,WAvClB,SAuC6BC,EAAOC,GAC7CD,EAAMT,KAAOU,EAAOC,QACpBF,EAAMN,YAAa,EACnBM,EAAML,uBAAwB,KA1CrB,cA4CVE,UAAWW,iBAAiBH,UA5ClB,SA4C4BL,GACrCA,EAAML,uBAAwB,KA7CrB,KAiDAR,MAAf,S,uLCtDMsB,EAAgBrB,YAAY,CAChCC,KAAM,YACNC,aAAc,CACZR,SAAU,GACV4B,WAAW,EACXC,OAAQ,GACRP,MAAO,MAETQ,SAAU,CACRC,aAAc,SAACb,EAAOC,GACpBD,EAAMW,OAASV,EAAOC,UAG1BN,eAAa,mBACV/B,gBAAckC,WADJ,SACeC,EAAOC,GAC/BD,EAAMlB,SAAWmB,EAAOC,QACxBF,EAAMU,WAAY,EAClBV,EAAMI,MAAQ,QAJL,cAMVvC,gBAAcsC,SANJ,SAMaH,GACtBA,EAAMU,WAAY,EAClBV,EAAMI,MAAQ,QARL,cAUVvC,gBAAcwC,UAVJ,SAUcL,EAAOC,GAC9BD,EAAMU,WAAY,EAClBV,EAAMI,MAAQH,EAAOC,WAZZ,cAgBVlB,cAAYe,WAhBF,SAgBaC,EAAOC,GAC7BD,EAAMlB,SAASgC,KAAKb,EAAOC,SAC3BF,EAAMU,WAAY,EAClBV,EAAMI,MAAQ,QAnBL,cAqBVpB,cAAYmB,SArBF,SAqBWH,GACpBA,EAAMU,WAAY,EAClBV,EAAMI,MAAQ,QAvBL,cAyBVpB,cAAYqB,UAzBF,SAyBYL,EAAOC,GAC5BD,EAAMU,WAAY,EAClBV,EAAMI,MAAQH,EAAOC,QACrBa,QAAQC,IAAIf,EAAOC,YA5BV,cA+BVhB,iBAAea,WA/BL,SA+BgBC,EAAOC,GAChCD,EAAMlB,SAAWkB,EAAMlB,SAAS6B,QAC9B,SAAAxC,GAAO,OAAIA,EAAQG,KAAO2B,EAAOC,WAEnCF,EAAMU,WAAY,EAClBV,EAAMI,MAAQ,QApCL,cAsCVlB,iBAAeiB,SAtCL,SAsCcH,GACvBA,EAAMU,WAAY,EAClBV,EAAMI,MAAQ,QAxCL,cA0CVlB,iBAAemB,UA1CL,SA0CeL,EAAOC,GAC/BD,EAAMU,WAAY,EAClBV,EAAMI,MAAQH,EAAOC,WA5CZ,KAiDAO,MAAf,QACO,IAAQI,EAAiBJ,EAAcQ,QAA/BJ,c,mBCrEfK,EAAOC,QAAU,CAAC,UAAY,+B,yQCG9BpD,IAAMS,SAASC,QAAU,wCAEzB,IAAMgB,EAAQ,SACRA,GACF1B,IAAMS,SAAS4C,QAAQC,OAAOC,cAA9B,iBAAwD7B,IAFtDA,EAAQ,WAKV1B,IAAMS,SAAS4C,QAAQC,OAAOC,cAAgB,IAIrCxB,EAAWpB,YACtB,gBADsC,uCAEtC,WAAO6C,EAAP,sBAAAzD,EAAA,6DAAsBc,EAAtB,EAAsBA,gBAAtB,kBAE2Bb,IAAMK,KAAK,gBAAiBmD,GAFvD,uBAEYtD,EAFZ,EAEYA,KACRwB,EAAUxB,EAAKwB,OACfsB,QAAQC,IAAI/C,GAJhB,kBAKWA,GALX,yCAOIuD,IAAMpB,MAAN,4BAPJ,kBAQWxB,EAAgB,KAAM6C,SAASxD,OAR1C,0DAFsC,yDAe3BqC,EAAQ5B,YACnB,aADmC,uCAEnC,WAAO6C,EAAP,sBAAAzD,EAAA,6DAAsBc,EAAtB,EAAsBA,gBAAtB,kBAE2Bb,IAAMK,KAAK,eAAgBmD,GAFtD,uBAEYtD,EAFZ,EAEYA,KACRwB,EAAUxB,EAAKwB,OAHnB,kBAKWxB,GALX,yCAOIuD,IAAMpB,MAAN,oCAPJ,kBAQWxB,EAAgB,KAAM6C,SAASxD,OAR1C,0DAFmC,yDAexBsC,EAAS7B,YACpB,cADoC,uCAEpC,WAAOC,EAAP,kBAAAb,EAAA,6DAAYc,EAAZ,EAAYA,gBAAZ,kBAEUb,IAAMK,KAAK,iBAFrB,OAGIqB,IAHJ,uDAKI+B,IAAMpB,MAAN,0BALJ,kBAMWxB,EAAgB,KAAM6C,SAASxD,OAN1C,yDAFoC,yDAazBuC,EAAmB9B,YAC9B,eAD8C,uCAE9C,WAAOC,EAAG+C,GAAV,qBAAA5D,EAAA,yDACQkC,EAAQ0B,EAASC,WAGA,QAFjBC,EAAiB5B,EAAM6B,KAAKpC,OAFpC,yCAKWiC,EAAS9C,mBALpB,cAQEa,EAAUmC,GARZ,kBAU2B7D,IAAMC,IAAI,kBAVrC,uBAUYC,EAVZ,EAUYA,KAVZ,kBAWWA,GAXX,2DAaWyD,EAAS9C,mBAbpB,0DAF8C,yDAoB1CiB,EAAa,CACjBC,WACAS,SACAD,QACAE,oBAEaX,a,+BCpFf,IAIMiC,EAAgB,CACpBC,cALoB,SAAC/B,GAAD,OAAWA,EAAM6B,KAAKnC,YAM1CsC,YALkB,SAAChC,GAAD,OAAWA,EAAM6B,KAAKtC,KAAKF,MAM7C4C,qBAJ2B,SAACjC,GAAD,OAAWA,EAAM6B,KAAKK,wBAMpCJ,O,4GCEAK,EARG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,OAAO,qBAAKC,UAAWC,IAAEC,UAAlB,SAA8BH,K,cCCjCI,EAAS,CACbC,KAAM,CACJC,QAAS,eACTC,eAAgB,OAChBC,QAAS,EACTC,WAAY,IACZC,MAAO,SAETC,WAAY,CACVD,MAAO,gBAKI,SAASE,IACtB,IAAMtD,EAAauD,YAAYnB,IAAcC,eAC7C,OACE,gCACE,cAAC,IAAD,CAASmB,GAAG,IAAIC,OAAK,EAACC,MAAOZ,EAAOC,KAAMY,YAAab,EAAOO,WAA9D,kBAGCrD,GACC,cAAC,IAAD,CACEwD,GAAG,aACHC,OAAK,EACLC,MAAOZ,EAAOC,KACdY,YAAab,EAAOO,WAJtB,0B,WCpBFP,EAAS,CACbD,UAAW,CACTG,QAAS,OACTY,WAAY,UAEdC,OAAQ,CACNC,YAAa,GAEfnE,KAAM,CACJwD,WAAY,IACZW,YAAa,KAiBXC,EAAqB,CACzBC,SAAUC,UAAepD,QAGZqD,eARS,SAAC5D,GAAD,MAAY,CAClCX,KAAMyC,IAAcE,YAAYhC,MAOMyD,EAAzBG,EAjBE,SAAC,GAAD,IAAGL,EAAH,EAAGA,OAAQlE,EAAX,EAAWA,KAAMqE,EAAjB,EAAiBA,SAAjB,OACf,sBAAKN,MAAOZ,EAAOD,UAAnB,UACE,qBAAKsB,IAAKN,EAAQO,IAAI,GAAGC,MAAM,KAAKX,MAAOZ,EAAOe,SAClD,uBAAMH,MAAOZ,EAAOnD,KAApB,sBAAoCA,KACpC,wBAAQ2E,KAAK,SAASC,QAASP,EAA/B,0BCtBElB,EAAS,CACbC,KAAM,CACJC,QAAS,eACTC,eAAgB,OAChBC,QAAS,GACTC,WAAY,IACZC,MAAO,WAETC,WAAY,CACVD,MAAO,UAII,SAASoB,IACtB,OACE,gCACE,cAAC,IAAD,CACEhB,GAAG,YACHC,OAAK,EACLC,MAAOZ,EAAOC,KACdY,YAAab,EAAOO,WAJtB,0BAQA,cAAC,IAAD,CACEG,GAAG,SACHC,OAAK,EACLC,MAAOZ,EAAOC,KACdY,YAAab,EAAOO,WAJtB,uBCrBN,IAAMP,EAAS,CACb2B,OAAQ,CACNzB,QAAS,OACT0B,eAAgB,gBAChBd,WAAY,SACZe,aAAc,sBAIH,SAASC,IACtB,IAAM5E,EAAauD,YAAYnB,IAAcC,eAE7C,OADAhB,QAAQC,IAAIc,IAAcC,eAExB,yBAAQqB,MAAOZ,EAAO2B,OAAtB,UACE,cAACnB,EAAD,IAECtD,EAAa,cAAC,EAAD,IAAe,cAACwE,EAAD,O,kEClBpB,SAASK,EAAT,GAAoD,IAA5BnC,EAA2B,EAA3BA,SAAaoC,EAAc,iBAC1D9E,EAAauD,YAAYnB,IAAcC,eAE7C,OACE,cAAC,IAAD,2BAAWyC,GAAX,aACG9E,EAAa0C,EAAW,cAAC,IAAD,CAAUc,GAAG,c,6CCL7B,SAASuB,EAAT,GAKX,IAJFrC,EAIC,EAJDA,SAIC,IAHDsC,kBAGC,aAFDC,kBAEC,MAFY,IAEZ,EADEH,EACF,iBACK9E,EAAauD,YAAYnB,IAAcC,eAC7ChB,QAAQC,IAAIc,IAAcC,eAC1B,IAAM6C,EAAiBlF,GAAcgF,EAErC,OACE,cAAC,IAAD,2BAAWF,GAAX,aACGI,EAAiB,cAAC,IAAD,CAAU1B,GAAIyB,IAAiBvC,KCJvD,IAAMyC,EAAWC,gBAAK,kBAAM,iCACtBC,EAAeD,gBAAK,kBAAM,iCAC1BE,EAAYF,gBAAK,kBAAM,iCACvBG,EAAgBH,gBAAK,kBACzB,iCAGa,SAASI,IACtB,IAAMC,EAAWC,cAOjB,OAJAC,qBAAU,WACRF,EAASxB,IAAenD,sBACvB,CAAC2E,IAGF,qCACE,eAAC,EAAD,WACE,cAACb,EAAD,IACA,cAAC,IAAD,UACE,eAAC,WAAD,CAAUgB,SAAU,2CAApB,UACE,cAACb,EAAD,CAAatB,OAAK,EAACoC,KAAK,IAAxB,SACE,cAACV,EAAD,MAGF,cAACJ,EAAD,CAAatB,OAAK,EAACoC,KAAK,YAAYb,YAAU,EAA9C,SACE,cAACK,EAAD,MAGF,cAACN,EAAD,CAAatB,OAAK,EAACoC,KAAK,SAASZ,WAAW,aAAaD,YAAU,EAAnE,SACE,cAACM,EAAD,MAGF,cAACT,EAAD,CAAcgB,KAAK,aAAnB,SACE,cAACN,EAAD,cAMR,cAAC,IAAD,CACEO,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,O,4EC5CdC,EAAU,sBACXC,YAAqB,CACtBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,SAHhD,CAMdC,SACAC,MAGIC,EAAoB,CACxBC,IAAK,OACLC,YACAC,UAAW,CAAC,UAGRC,EAAQC,YAAe,CAC3BC,QAAS,CACPtF,KAAMuF,YAAeP,EAAmBQ,KAExCC,UAAW7G,KACXwF,aACFsB,UAAUC,IAGCC,EAAYC,YAAaT,GACvBA,I,QClCfU,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUZ,MAAOA,EAAjB,SACE,cAAC,IAAD,CAAaa,QAAS,KAAML,UAAWA,EAAvC,SACE,cAAC,IAAD,UACE,cAACvC,EAAD,YAKR6C,SAASC,cAAc,Y","file":"static/js/main.189a7a98.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nexport async function fetchContacts() {\n  const { data } = await axios.get(\"/contacts\");\n  return data;\n}\n\nexport async function addContact(contact) {\n  const { data } = await axios.post(\"/contacts\", contact);\n\n  return data;\n}\n\nexport async function dltContact(id) {\n  await axios.delete(`/contacts/${id}`);\n  return id;\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport * as contactsApi from '../../services/contactsApi';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const contacts = await contactsApi.fetchContacts();\n      return contacts;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nexport const addContacts = createAsyncThunk(\n  'contacts/addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const items = await contactsApi.addContact(contact);\n      return items;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nexport const deleteContacts = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id, { rejectWithValue }) => {\n    try {\n      await contactsApi.dltContact(id);\n\n      return id;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);","import { createSlice } from \"@reduxjs/toolkit\";\nimport operations from \"./auth-operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrectUser: false,\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [operations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [operations.register.pending](state) {\n      state.error = null;\n    },\n    [operations.register.rejected](state, action) {\n      state.error = action.payload.message;\n    },\n    [operations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [operations.logIn.pending](state) {\n      state.error = null;\n    },\n    [operations.logIn.rejected](state, action) {\n      state.error = action.payload.message;\n    },\n    [operations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.error = null;\n    },\n    [operations.logOut.pending](state, action) {\n      state.error = null;\n    },\n    [operations.logOut.rejected](state, action) {\n      state.error = action.payload.message;\n    },\n    [operations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrectUser = true;\n    },\n    [operations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrectUser = false;\n    },\n    [operations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrectUser = false;\n    },\n  },\n});\nexport default authSlice.reducer;\n","import {\n  addContacts,\n  deleteContacts,\n  fetchContacts,\n} from './contactsOperations';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst contactsSlice = createSlice({\n  name: 'phoneBook',\n  initialState: {\n    contacts: [],\n    isLoading: false,\n    filter: '',\n    error: null,\n  },\n  reducers: {\n    changeFilter: (state, action) => {\n      state.filter = action.payload;\n    },\n  },\n  extraReducers: {\n    [fetchContacts.fulfilled](state, action) {\n      state.contacts = action.payload;\n      state.isLoading = false;\n      state.error = null;\n    },\n    [fetchContacts.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [fetchContacts.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n\n    },\n\n    [addContacts.fulfilled](state, action) {\n      state.contacts.push(action.payload);\n      state.isLoading = false;\n      state.error = null;\n    },\n    [addContacts.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [addContacts.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n      console.log(action.payload);\n    },\n\n    [deleteContacts.fulfilled](state, action) {\n      state.contacts = state.contacts.filter(\n        contact => contact.id !== action.payload,\n      );\n      state.isLoading = false;\n      state.error = null;\n    },\n    [deleteContacts.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [deleteContacts.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n      \n    },\n  },\n});\nexport default contactsSlice.reducer;\nexport const { changeFilter } = contactsSlice.actions;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2c9PG\"};","import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport const register = createAsyncThunk(\n  \"auth/register\",\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/signup\", credentials);\n      token.set(data.token);\n      console.log(data);\n      return data;\n    } catch (error) {\n      toast.error(`Failed! Enter valid data`);\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const logIn = createAsyncThunk(\n  \"auth/login\",\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/login\", credentials);\n      token.set(data.token);\n\n      return data;\n    } catch (error) {\n      toast.error(` Enter valid Email and Password!`);\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const logOut = createAsyncThunk(\n  \"auth/logout\",\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post(\"/users/logout\");\n      token.unset();\n    } catch (error) {\n      toast.error(` Something goes wrong!`);\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue();\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\nconst getUsername = (state) => state.auth.user.name;\n\nconst getIsFetchingCurrent = (state) => state.auth.isFetchingCurrentUser;\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getIsFetchingCurrent,\n};\nexport default authSelectors;\n","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 5,\n    fontWeight: 700,\n    color: \"white\",\n  },\n  activeLink: {\n    color: \"greenyellow\",\n    // outline: \"3px solid teal\"\n  },\n};\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n        Home\n      </NavLink>\n      {isLoggedIn && (\n        <NavLink\n          to=\"/phonebook\"\n          exact\n          style={styles.link}\n          activeStyle={styles.activeLink}\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n//import { authSelectors, authOperations } from \"../../redux/auth\";\n//import defaultAvatar from \"./useravatar.png\";\nimport authSelectors from \"../../redux/auth/auth-selectors\";\nimport authOperations from \"../../redux/auth/auth-operations\";\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    marginRight: 4,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 12,\n  },\n};\n\nconst UserMenu = ({ avatar, name, onLogout }) => (\n  <div style={styles.container}>\n    <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\n    <span style={styles.name}>Welcome, {name}</span>\n    <button type=\"button\" onClick={onLogout}>\n      Logout\n    </button>\n  </div>\n);\nconst mapStateToProps = (state) => ({\n  name: authSelectors.getUsername(state),\n});\n\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 12,\n    fontWeight: 700,\n    color: \"#2A363B\",\n  },\n  activeLink: {\n    color: \"green\",\n  },\n};\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Registration\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Log in\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport Navigation from \"./Navigation\";\nimport UserMenu from \"./UserMenu/UserMenu\";\nimport AuthNav from \"./AuthNav\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nconst styles = {\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderBottom: \"1px solid #2A363B\",\n  },\n};\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  console.log(authSelectors.getIsLoggedIn);\n  return (\n    <header style={styles.header}>\n      <Navigation />\n\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nexport default function PrivateRoute({ children, ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to=\"/login\" />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  console.log(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { lazy, Suspense } from \"react\";\nimport Container from \"./components/Container/Container\";\nimport AppBar from \"./components/AppBar\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useDispatch /*useSelector*/ } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport { authOperations } from \"./redux/auth\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\n\nconst HomeView = lazy(() => import(\"./views/HomeViews/HomeViews\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterViews/RegisterViews\"));\nconst LoginView = lazy(() => import(\"./views/LoginViews/LoginViews\"));\nconst PhonebookView = lazy(() =>\n  import(\"./views/PhoneBookViews/PhonebookView\")\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  // const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Container>\n        <AppBar />\n        <Switch>\n          <Suspense fallback={<p>Loading...</p>}>\n            <PublicRoute exact path=\"/\">\n              <HomeView />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/register\" restricted>\n              <RegisterView />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/login\" redirectTo=\"/phonebook\" restricted>\n              <LoginView />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/phonebook\">\n              <PhonebookView />\n            </PrivateRoute>\n          </Suspense>\n        </Switch>\n      </Container>\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </>\n  );\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsSlice from './contacts/contactsSlice';\nimport { logger } from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport authReducer  from './auth/auth-slice';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n  thunk,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n   \n    phoneBook: contactsSlice,\n  },middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/es/integration/react\";\nimport { persistor } from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}